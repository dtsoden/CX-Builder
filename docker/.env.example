# =============================================================================
# CX-Builder Environment Configuration
# =============================================================================
# Copy this file to .env and update values before running docker compose.
#   cp .env.example .env
#
# IMPORTANT: The .env file is gitignored. Never commit secrets to git.
# =============================================================================

PORT=9800

# =============================================================================
# DATABASE (pgvector PostgreSQL)
# =============================================================================
# CX-Builder connects to PostgreSQL via these vars.
# DATABASE_HOST must match the postgres service name in docker-compose.yml.
DATABASE_TYPE=postgres
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=cxbuilder
DATABASE_USER=cxbuilder
DATABASE_PASSWORD=CHANGE_ME_use_a_strong_password

# These are used by the pgvector/pgvector container to initialize the database.
# They MUST match the DATABASE_* values above.
# IMPORTANT: Avoid special characters (!@#$%) in passwords â€” they break
# Docker's .env parser on some platforms. Use alphanumeric + underscores.
POSTGRES_DB=cxbuilder
POSTGRES_USER=cxbuilder
POSTGRES_PASSWORD=CHANGE_ME_use_a_strong_password

# =============================================================================
# STORAGE PATHS (inside the cx-builder container)
# =============================================================================
DATABASE_PATH=/root/.flowise
SECRETKEY_PATH=/root/.flowise
LOG_PATH=/root/.flowise/logs
BLOB_STORAGE_PATH=/root/.flowise/storage

# =============================================================================
# AUTHENTICATION (JWT)
# =============================================================================
# Generate unique random secrets for production. Example:
#   openssl rand -hex 32
JWT_AUTH_TOKEN_SECRET=CHANGE_ME_run_openssl_rand_hex_32
JWT_REFRESH_TOKEN_SECRET=CHANGE_ME_run_openssl_rand_hex_32_again
JWT_ISSUER=CX-Builder
JWT_AUDIENCE=CX-Builder
JWT_TOKEN_EXPIRY_IN_MINUTES=360
JWT_REFRESH_TOKEN_EXPIRY_IN_MINUTES=43200

# =============================================================================
# CORS
# =============================================================================
# Comma-separated list of allowed origins. Use * for development only.
CORS_ORIGINS=*

# =============================================================================
# OPTIONAL
# =============================================================================
# DEBUG=true
# LOG_LEVEL=debug
# SHOW_COMMUNITY_NODES=true
# STORAGE_TYPE=local
# IFRAME_ORIGINS=*
